<html>
	<head>
		<title> progetto2017 secondo atto</title>
		<style>

		body {
			font-family: Monospace;
			background-color: #f0f0f0;
			margin: 0px;
			overflow: hidden;
		}

		canvas {
			width: 100%;
			height: 100%;
		}

	</style>
		<script src="lib/three.min.js"></script>
		<script src="lib/stats.min.js"></script>
		<script src="lib/Coordinates.js"></script>
		<script src="lib/OrbitControls.js"></script>
	</head>
	<body>

		<script>

		var scene, camera, renderer, controls, stats;

    function Start1() {

			scene = new THREE.Scene();
			camera = new THREE.PerspectiveCamera( 75, window.innerWidth / window.innerHeight, 0.1, 1000 );
			renderer = new THREE.WebGLRenderer( {antialias: true} );
			renderer.setSize( window.innerWidth, window.innerHeight );
			renderer.setClearColor( 0xcccccc );
			document.body.appendChild( renderer.domElement );

			camera.position.set(13,2,13);
			camera.lookAt( new THREE.Vector3(0,0,0));

      var txrSide = new THREE.TextureLoader().load('new textures/rock2.jpg');
      var txrTop = new THREE.TextureLoader().load('new textures/rock2.jpg');
      txrSide.wrapS = THREE.MirroredRepeatWrapping;
      txrSide.wrapT = THREE.MirroredRepeatWrapping;
      txrSide.repeat.set( 1, 8 );

      var rockSideMat = new THREE.MeshBasicMaterial({map: txrSide});
      var rockTopMat = new THREE.MeshBasicMaterial({map: txrTop});

      var rockMultiMat = [rockSideMat, rockSideMat, rockTopMat, rockTopMat, rockSideMat, rockSideMat];

      var txrSide2 = new THREE.TextureLoader().load('new textures/rock2.jpg');
      txrSide2.wrapS = THREE.RepeatWrapping;
      txrSide2.wrapT = THREE.RepeatWrapping;
      txrSide2.repeat.set( 1, 8 );

      var rockSideMat2 = new THREE.MeshBasicMaterial({map: txrSide2});
      var rockMultiMat2 = [rockSideMat2, rockSideMat2, rockTopMat, rockTopMat, rockSideMat2, rockSideMat2];

      var rockMat = new THREE.MultiMaterial( rockMultiMat );
      var rockMat2 = new THREE.MultiMaterial( rockMultiMat2 );

      cube1 = new THREE.Mesh(  new THREE.BoxGeometry(1,10,1),
                              rockMat
                            );

      cube2 = new THREE.Mesh(  new THREE.BoxGeometry(1,10,1),
                              rockMat2
                            );
      cube2.position.set(1.5,0,0);

      cube3 = cube2.clone();
      cube3.position.set(2.5,0,0);
      cube4 = cube1.clone();
      cube4.position.set(-1,0,0);

      scene.add(cube1,cube4, cube2,cube3);

			stats = new Stats();
			stats.domElement.style.position = 'absolute';
			stats.domElement.style.top = '0px';
			document.body.appendChild( stats.domElement );

			// uncomment if you need to draw coordinate axes when building the scene
			Coordinates.drawAllAxes();

			controls = new THREE.OrbitControls( camera );
			controls.addEventListener( 'change', Render );
    }

    function Start2() {

			scene = new THREE.Scene();
			camera = new THREE.PerspectiveCamera( 75, window.innerWidth / window.innerHeight, 0.1, 1000 );
			renderer = new THREE.WebGLRenderer( {antialias: true} );
			renderer.setSize( window.innerWidth, window.innerHeight );
			renderer.setClearColor( 0xcccccc );
			document.body.appendChild( renderer.domElement );

			camera.position.set(13,2,13);
			camera.lookAt( new THREE.Vector3(0,0,0));

      var txr = new THREE.TGALoader().load('ground_greenfoliage2_pbr/TGA/Ground_GreenFoliage2_256_TGA/Ground_GreenFoliage2_256_d.tga');
      txr.wrapS = THREE.MirroredRepeatWrapping;
      txr.wrapT = THREE.MirroredRepeatWrapping;
      txr.repeat.set( 1, 8 );
      cube = new THREE.Mesh(  new THREE.BoxGeometry(1,10,1),
                              new THREE.MeshBasicMaterial({map: txr})
                            );
      scene.add(cube);

			stats = new Stats();
			stats.domElement.style.position = 'absolute';
			stats.domElement.style.top = '0px';
			document.body.appendChild( stats.domElement );

			// uncomment if you need to draw coordinate axes when building the scene
			Coordinates.drawAllAxes();

			controls = new THREE.OrbitControls( camera );
			controls.addEventListener( 'change', Render );
    }

    function Update() {
			requestAnimationFrame( Update );

			controls.update();
			stats.update();
			Render();

		}

		function Render() {
			renderer.render(scene, camera);

		}

		//Start1();
    Start2();
		Update();

		</script>
	</body>
</html>
